!function(t){t.setTimeout,t.clearTimeout;var e,r,n,o=t.setInterval,s=t.clearInterval,i=(t.setImmediate,t.clearImmediate,t.console),a=[["bcoin","/browser/src/proxysocket.js",function(t,e,n,o,s,a){"use strict";h(1,n);const u=h(4,n),c=h(5,n);n.exports=class extends u{constructor(t){super(),this.socket=c.socket(),this.socket.reconnection=!1,this.socket.connect(t),this.sendBuffer=[],this.recvBuffer=[],this.paused=!1,this.bytesWritten=0,this.bytesRead=0,this.remoteAddress=null,this.remotePort=0,this.closed=!1,this.init()}init(){this.socket.on("error",t=>{i.error(t)}),this.socket.bind("tcp connect",(t,e)=>{this.closed||(this.remoteAddress=t,this.remotePort=e,this.emit("connect"))}),this.socket.bind("tcp data",t=>{t=r.from(t,"hex"),this.paused?this.recvBuffer.push(t):(this.bytesRead+=t.length,this.emit("data",t))}),this.socket.bind("tcp close",t=>{this.closed||(this.closed=!0,this.emit("close"))}),this.socket.bind("tcp error",t=>{const e=new Error(t.message);e.code=t.code,this.emit("error",e)}),this.socket.bind("tcp timeout",()=>{this.emit("timeout")}),this.socket.on("disconnect",()=>{this.closed||(this.closed=!0,this.emit("close"))})}connect(t,e){if(this.remoteAddress=e,this.remotePort=t,this.closed)this.sendBuffer.length=0;else{this.socket.fire("tcp connect",t,e);for(const t of this.sendBuffer)this.write(t);this.sendBuffer.length=0}}setKeepAlive(t,e){this.socket.fire("tcp keep alive",t,e)}setNoDelay(t){this.socket.fire("tcp no delay",t)}setTimeout(t,e){this.socket.fire("tcp set timeout",t),e&&this.on("timeout",e)}write(t,e){return this.bytesWritten+=t.length,this.socket.fire("tcp data",t.toString("hex")),e&&e(),!0}pause(){this.paused=!0}resume(){const t=this.recvBuffer;this.paused=!1,this.recvBuffer=[];for(const e of t)this.bytesRead+=e.length,this.emit("data",e)}destroy(){this.closed||(this.closed=!0,this.socket.destroy())}static connect(t,e,r){const n=new this(t);return n.connect(e,r),n}}}],["bpkg","/lib/builtins/assert.js",function(t,r,n,o,s,i){"use strict";var a=h(2,n),u=h(3,n),c=u.isDeepEqual,f=u.isDeepStrictEqual,l={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},p={};function y(t){if("object"!=typeof t||null===t)throw new a.ArgError("options",t,"Object");var e=null,r="fail";null!=t.message&&(e=String(t.message)),"string"==typeof t.operator&&(r=t.operator),null==e&&(e="fail"===r?"Assertion failed.":l[r]+" "+a.stringify(t.actual)+" "+r+" "+a.stringify(t.expected)),Error.call(this,e);var n=y;"function"==typeof t.stackStartFn&&(n=t.stackStartFn),this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.message=e,this.generatedMessage=!t.message,this.actual=t.actual,this.expected=t.expected,this.operator=r,Error.captureStackTrace&&Error.captureStackTrace(this,n)}a.inherits(y,Error);var d=function t(e,r){m(t,arguments.length,e,r)};function g(t){if(t.message instanceof Error)throw t.message;throw new y(t)}function m(t,e,r,n){if(!r){var o=!1;if(0===e)o=!0,n="No value argument passed to `assert.ok()`";else if(null==n)o=!0,n="Assertion failed.";else if(n instanceof Error)throw n;var s=new y({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=o,s}}function w(t,r,n){for(var o=0;o<r.length;o++){var s=r[o];s in t&&(n!==e&&"string"==typeof n[s]&&t[s]instanceof RegExp&&t[s].test(n[s])?this[s]=n[s]:this[s]=t[s])}}function b(t,e,r,n,o){if(!(r in t&&f(t[r],e[r]))){if(!n){var s=new y({actual:new w(t,o),expected:new w(e,o,t),operator:"deepStrictEqual",stackStartFn:d.throws});throw s.actual=t,s.expected=e,s.operator="throws",s}g({actual:t,expected:e,message:n,operator:"throws",stackStartFn:d.throws})}}function v(t,r,n){if("function"!=typeof r){if(r instanceof RegExp)return r.test(t);if(2===arguments.length)throw new a.ArgError("expected",r,["Function","RegExp"]);if("object"!=typeof t||null===t){var o=new y({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:d.throws});throw o.operator="throws",o}var s=a.getOwnKeys(r);if(r instanceof Error)s.push("name","message");else if(0===s.length)throw new a.ArgError("error",r,"may not be an empty object");for(var i=0;i<s.length;i++){var u=s[i];"string"==typeof t[u]&&r[u]instanceof RegExp&&r[u].test(t[u])||b(t,r,u,n,s)}return!0}return r.prototype!==e&&t instanceof r||!(r.prototype instanceof Error)&&!0===r.call({},t)}function E(t){if("function"!=typeof t)throw new a.ArgError("fn",t,"Function");try{t()}catch(t){return t}return p}function O(t){return null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch}function A(t){return new Promise(function(e,r){try{var n;if("function"==typeof t){if(!O(n=t()))throw new a.ArgError("promiseFn",n,"instance of Promise")}else{if(!O(t))throw new a.ArgError("promiseFn",t,["Function","Promise"]);n=t}n.then(function(){e(p)},e)}catch(t){e(t)}})}function S(t,r,n,o){if("string"==typeof n){if(4===arguments.length)throw new a.ArgError("error",n,["Object","Error","Function","RegExp"]);if("object"==typeof r&&null!==r){if(r.message===n)throw new a.NodeError("ERR_AMBIGUOUS_ARGUMENT",'The error message "'+r.message+'" is identical to the message.')}else if(r===n)throw new a.NodeError("ERR_AMBIGUOUS_ARGUMENT",'The error "'+r+'" is identical to the message.');o=n,n=e}else if(null!=n&&"object"!=typeof n&&"function"!=typeof n)throw new a.ArgError("error",n,["Object","Error","Function","RegExp"]);if(r===p){var s="";n&&n.name&&(s+=" ("+n.name+")"),s+=o?": "+o:".";var i="rejects"===t.name?"rejection":"exception";g({actual:e,expected:n,operator:t.name,message:"Missing expected "+i+s,stackStartFn:t})}if(n&&!1===v(r,n,o))throw r}function k(t,r,n,o){if(r!==p){if("string"==typeof n&&(o=n,n=e),!n||v(r,n)){var s=o?": "+o:".",i="doesNotReject"===t.name?"rejection":"exception";g({actual:r,expected:n,operator:t.name,message:"Got unwanted "+i+s+'\nActual message: "'+(r&&r.message)+'"',stackStartFn:t})}throw r}}d.AssertionError=y,d.ok=d,d.fail=function t(r,n,o,s,i){var a,u=arguments.length;if(0===u?a="Failed":1===u?(o=r,r=e):2===u&&(s="!="),o instanceof Error)throw o;var c={actual:r,expected:n,operator:s===e?"fail":s,stackStartFn:i||t};o!==e&&(c.message=o);var f=new y(c);throw a&&(f.message=a,f.generatedMessage=!0),f},d.equal=function t(e,r,n){e!=r&&g({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},d.notEqual=function t(e,r,n){e==r&&g({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},d.deepEqual=function t(e,r,n){c(e,r)||g({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},d.notDeepEqual=function t(e,r,n){c(e,r)&&g({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},d.deepStrictEqual=function t(e,r,n){f(e,r)||g({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},d.notDeepStrictEqual=function t(e,r,n){f(e,r)&&g({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},d.strictEqual=function t(e,r,n){a.equals(e,r)||g({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},d.notStrictEqual=function t(e,r,n){a.equals(e,r)&&g({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},d.throws=function t(e,r,n){S(t,E(e),r,n)},d.rejects=function t(e,r,n){return new Promise(function(o,s){A(e).then(function(e){try{S(t,e,r,n)}catch(t){return void s(t)}o()})})},d.doesNotThrow=function t(e,r,n){k(t,E(e),r,n)},d.doesNotReject=function t(e,r,n){return new Promise(function(o,s){A(e).then(function(e){try{k(t,e,r,n)}catch(t){return void s(t)}o()})})},d.ifError=function t(r){if(null!==r&&r!==e){var n="ifError got unwanted exception: ";"object"==typeof r&&"string"==typeof r.message?0===r.message.length&&r.constructor?n+=r.constructor.name:n+=r.message:n+=a.stringify(r);var o=new y({actual:r,expected:null,operator:"ifError",message:n,stackStartFn:t}),s=r.stack;if("string"==typeof s){var i=s.split("\n");i.shift();for(var u=o.stack.split("\n"),c=0;c<i.length;c++){var f=u.indexOf(i[c]);if(-1!==f){u=u.slice(0,f);break}}o.stack=u.join("\n")+"\n"+i.join("\n")}throw o}},d.strict=a.assign(function t(e,r){m(t,arguments.length,e,r)},d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict,n.exports=d}],["bpkg","/lib/builtins/internal/util.js",function(t,r,n,o,s,i){"use strict";var a="function"==typeof ArrayBuffer,u="function"==typeof SharedArrayBuffer,c="function"==typeof BigInt,f="function"==typeof Symbol,h="function"==typeof Float32Array,l="function"==typeof Float64Array,p="function"==typeof Map,y="function"==typeof Set,d=1==={__proto__:{a:1}}.a;function g(t){var e;try{e=t.name}catch(t){}return"string"!=typeof e||0===e.length?"Function":"Function: "+e}function m(t){if(Object.keys)return Object.keys(t);var e,r=[];for(e in t)v.call(t,e)&&r.push(e);return r}function w(t){return Object.getOwnPropertyNames?Object.getOwnPropertyNames(t):m(t)}function b(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t){return!!(a&&t instanceof ArrayBuffer)||!!(u&&t instanceof SharedArrayBuffer)}function O(t){return Array.isArray?Array.isArray(t):t instanceof Array}function A(t){return c&&t instanceof BigInt}function S(t){return t instanceof Boolean}function k(t){return t instanceof Number}function j(t){return t instanceof String}function x(t){return f&&t instanceof Symbol}function _(t,e){if(Object.setPrototypeOf)return Object.setPrototypeOf(t,e),void Object.setPrototypeOf(t.prototype,e.prototype);if(d)return t.__proto__=e,void(t.prototype.__proto__=e.prototype);if(Object.create)t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}function R(t,e){if(!Object.getOwnPropertyDescriptor)return v(t,e);var r=Object.getOwnPropertyDescriptor(t,e);return null!=r&&!0===r.enumerable}function N(t){return I(t).slice(8,-1)}function I(t){return t===e?"[object Undefined]":null===t?"[object Null]":Object.prototype.toString.call(t)}function T(t,e,r){var n;if(O(r)&&1===r.length&&(r=r[0]),O(r)){var o=r.pop();n='The "'+t+'" argument must be one of type '+r.join(", ")+", or "+o+". Received type "+typeof e}else n='The "'+t+'" argument must be of type '+r+". Received type "+typeof e;TypeError.call(this,n),this.name="TypeError [ERR_INVALID_ARG_TYPE]",this.code="ERR_INVALID_ARG_TYPE",this.message=n,Error.captureStackTrace&&Error.captureStackTrace(this,T)}function C(t,e){Error.call(this,e),this.name="Error ["+t+"]",this.code=t,this.message=e,Error.captureStackTrace&&Error.captureStackTrace(this,C)}_(T,TypeError),_(C,Error),t.assign=function(t){if(Object.assign)return Object.assign.apply(Object,arguments);for(var e=1;e<arguments.length;e++){var r=arguments[e];if(null!==r&&"object"==typeof r)for(var n=m(r),o=0;o<n.length;o++)t[n[o]]=r[n[o]]}return t},t.equals=function(t,e){return Object.is?Object.is(t,e):t===e?0!==t||1/t==1/e:t!=t&&e!=e},t.filter=function(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n])&&r.push(t[n]);return r},t.funcName=g,t.getOwnKeys=m,t.getOwnNonIndexProperties=function(t,e){var r,n,o,s=t.length>>>0===t.length,i=e?m(t):w(t),a=[];for(r=0;r<i.length;r++)n=i[r],s&&/^\d+$/.test(n)&&n>>>0<t.length||a.push(n);for(o=b(t),r=0;r<o.length;r++)n=o[r],e&&!R(t,n)||a.push(n);return a},t.getOwnPropertyNames=w,t.getOwnPropertySymbols=b,t.getPrototypeOf=function(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):null==t?e:d?t.__proto__:t.constructor?t.constructor.prototype:e},t.hasOwnProperty=v,t.isAnyArrayBuffer=E,t.isArray=O,t.isArrayBufferView=function(t){return!!a&&null!=t&&(ArrayBuffer.isView?ArrayBuffer.isView(t):E(t.buffer))},t.isBigIntObject=A,t.isBooleanObject=S,t.isBoxedPrimitive=function(t){return null!==t&&"object"==typeof t&&(k(t)||j(t)||S(t)||A(t)||x(t))},t.isDate=function(t){return t instanceof Date},t.isFloat32Array=function(t){return h&&t instanceof Float32Array},t.isFloat64Array=function(t){return l&&t instanceof Float64Array},t.isMap=function(t){return p&&t instanceof Map},t.isNaN=function(t){return t!=t},t.isNumberObject=k,t.isRegExp=function(t){return t instanceof RegExp},t.isSet=function(t){return y&&t instanceof Set},t.isStringObject=j,t.isSymbolObject=x,t.inherits=_,t.propertyIsEnumerable=R,t.stringify=function(t){switch(typeof t){case"undefined":case"boolean":case"number":case"symbol":return String(t);case"bigint":return t+"n";case"string":return t.length>20&&(t=t.substring(0,17)+"..."),'"'+t+'"';case"object":return null===t?"null":"["+N(t)+"]";case"function":return"["+g(t)+"]";default:return"["+typeof t+"]"}},t.toName=N,t.toString=I,t.ArgError=T,t.NodeError=C}],["bpkg","/lib/builtins/internal/comparisons.js",function(t,r,n,o,s,i){"use strict";var a=h(2,n),u=!0,c=!1,f=0,l=1,p=2,y=3;function d(t,e,r,n){if(t===e)return 0!==t||(!r||a.equals(t,e));if(r){if("object"!=typeof t)return"number"==typeof t&&a.isNaN(t)&&a.isNaN(e);if("object"!=typeof e||null===t||null===e)return!1;if(a.getPrototypeOf(t)!==a.getPrototypeOf(e))return!1}else{if(null===t||"object"!=typeof t)return(null===e||"object"!=typeof e)&&t==e;if(null===e||"object"!=typeof e)return!1}var o,s,i,u,c,h,d=a.toString(t);if(d!==a.toString(e))return!1;if(a.isArray(t))return t.length===e.length&&(o=a.getOwnNonIndexProperties(t,!0),s=a.getOwnNonIndexProperties(e,!0),o.length===s.length&&g(t,e,r,n,l,o));if("[object Object]"===d)return g(t,e,r,n,f);if(a.isDate(t)){if(t.getTime()!==e.getTime())return!1}else if(a.isRegExp(t)){if(h=e,(c=t).source!==h.source||c.flags!==h.flags)return!1}else if(t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(a.isArrayBufferView(t)){if(r||!a.isFloat32Array(t)&&!a.isFloat64Array(t)){if(!function(t,e){return t.byteLength===e.byteLength&&A(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;return o=a.getOwnNonIndexProperties(t,!0),s=a.getOwnNonIndexProperties(e,!0),o.length===s.length&&g(t,e,r,n,f,o)}if(a.isSet(t))return!(!a.isSet(e)||t.size!==e.size)&&g(t,e,r,n,p);if(a.isMap(t))return!(!a.isMap(e)||t.size!==e.size)&&g(t,e,r,n,y);if(a.isAnyArrayBuffer(t)){if(u=e,(i=t).byteLength!==u.byteLength||!A(new Uint8Array(i),new Uint8Array(u)))return!1}else if(a.isBoxedPrimitive(t)&&!function(t,e){if(a.isNumberObject(t))return a.isNumberObject(e)&&a.equals(t,e);if(a.isStringObject(t))return a.isStringObject(e)&&t.valueOf()===e.valueOf();if(a.isBooleanObject(t))return a.isBooleanObject(e)&&t.valueOf()===e.valueOf();return a.isBigIntObject(t)?a.isBigIntObject(e)&&t.valueOf()===e.valueOf():a.isSymbolObject(e)&&t.valueOf()===e.valueOf()}(t,e))return!1}return g(t,e,r,n,f)}function g(t,r,n,o,s,i){if(5===arguments.length){i=a.getOwnKeys(t);var u=a.getOwnKeys(r);if(i.length!==u.length)return!1}for(var c=0;c<i.length;c++)if(!a.hasOwnProperty(r,i[c]))return!1;if(n&&5===arguments.length){var h,g=a.getOwnPropertySymbols(t);if(0!==g.length){var O=0;for(c=0;c<g.length;c++){var A=g[c];if(a.propertyIsEnumerable(t,A)){if(!a.propertyIsEnumerable(r,A))return!1;i.push(A),O++}else if(a.propertyIsEnumerable(r,A))return!1}if(h=a.getOwnPropertySymbols(r),g.length!==h.length&&m(r,h).length!==O)return!1}else if(0!==(h=a.getOwnPropertySymbols(r)).length&&0!==m(r,h).length)return!1}if(0===i.length&&(s===f||s===l&&0===t.length||0===t.size))return!0;if(o===e)o={val1:S(),val2:S(),position:0};else{var k=o.val1.get(t);if(k!==e){var j=o.val2.get(r);if(j!==e)return k===j}o.position++}o.val1.set(t,o.position),o.val2.set(r,o.position);var x=function(t,r,n,o,s,i){var u,c=0;if(i===p){if(!function(t,e,r,n){var o,s,i,a=null;for(o=t.keys();!(s=o.next()).done;)if("object"==typeof(i=s.value)&&null!==i)null===a&&(a=new Set),a.add(i);else if(!e.has(i)){if(r)return!1;if(!b(t,e,i))return!1;null===a&&(a=new Set),a.add(i)}if(null!==a){for(o=e.keys();!(s=o.next()).done;)if("object"==typeof(i=s.value)&&null!==i){if(!w(a,i,r,n))return!1}else if(!r&&!t.has(i)&&!w(a,i,r,n))return!1;return 0===a.size}return!0}(t,r,n,s))return!1}else if(i===y){if(!function(t,r,n,o){var s,i,a=null;for(s=t.entries();!(i=s.next()).done;){var u=i.value[0],c=i.value[1];if("object"==typeof u&&null!==u)null===a&&(a=new Set),a.add(u);else{var f=r.get(u);if(f===e&&!r.has(u)||!d(c,f,n,o)){if(n)return!1;if(!v(t,r,u,c,o))return!1;null===a&&(a=new Set),a.add(u)}}}if(null!==a){for(s=r.entries();!(i=s.next()).done;){var h=i.value[0],l=i.value[1];if("object"==typeof h&&null!==h){if(!E(a,t,h,l,n,o))return!1}else if(!(n||t.has(h)&&d(t.get(h),l,!1,o)||E(a,t,h,l,!1,o)))return!1}return 0===a.size}return!0}(t,r,n,s))return!1}else if(i===l)for(;c<t.length;c++){if(!a.hasOwnProperty(t,c)){if(a.hasOwnProperty(r,c))return!1;for(var f=a.getOwnKeys(t);c<f.length;c++)if(u=f[c],!a.hasOwnProperty(r,u)||!d(t[u],r[u],n,s))return!1;return f.length===a.getOwnKeys(r).length}if(!a.hasOwnProperty(r,c)||!d(t[c],r[c],n,s))return!1}for(c=0;c<o.length;c++)if(u=o[c],!d(t[u],r[u],n,s))return!1;return!0}(t,r,n,i,o,s);return o.val1.delete(t),o.val2.delete(r),x}function m(t,e){return a.filter(e,function(e){return a.propertyIsEnumerable(t,e)})}function w(t,e,r,n){for(var o=t.keys();;){var s=o.next();if(s.done)break;var i=s.value;if(d(e,i,r,n))return t.delete(i),!0}return!1}function b(t,e,r){var n=O(r);return null!=n?n:e.has(n)&&!t.has(n)}function v(t,r,n,o,s){var i=O(n);if(null!=i)return i;var a=r.get(i);return!(a===e&&!r.has(i)||!d(o,a,!1,s))&&(!t.has(i)&&d(o,a,!1,s))}function E(t,e,r,n,o,s){for(var i=t.keys();;){var a=i.next();if(a.done)break;var u=a.value;if(d(r,u,o,s)&&d(n,e.get(u),o,s))return t.delete(u),!0}return!1}function O(t){switch(typeof t){case"undefined":return null;case"object":return e;case"symbol":return!1;case"string":t=Number(t);case"number":if(a.isNaN(t))return!1}return!0}function A(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function S(){return"function"==typeof Map?new Map:new k}function k(){this.keys=[],this.values=[]}k.prototype.get=function(t){var r=this.keys.indexOf(t);return-1!==r?this.values[r]:e},k.prototype.set=function(t,e){var r=this.keys.indexOf(t);if(-1===r)return this.keys.push(t),void this.values.push(e);this.values[r]=e},k.prototype.delete=function(t){var e=this.keys.indexOf(t);-1!==e&&(this.keys.splice(e,1),this.values.splice(e,1))},t.isDeepEqual=function(t,e){return d(t,e,c)},t.isDeepStrictEqual=function(t,e){return d(t,e,u)}}],["bpkg","/lib/builtins/events.js",function(t,r,n,o,s,a){"use strict";var u,c="object"==typeof Reflect?Reflect:null,f=c&&"function"==typeof c.apply?c.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};u=c&&"function"==typeof c.ownKeys?c.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var h=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}n.exports=l,l.EventEmitter=l,l.prototype._events=e,l.prototype._eventsCount=0,l.prototype._maxListeners=e;var p=10;function y(t){return t._maxListeners===e?l.defaultMaxListeners:t._maxListeners}function d(t,r,n,o){var s,a,u,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if((a=t._events)===e?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==e&&(t.emit("newListener",r,n.listener?n.listener:n),a=t._events),u=a[r]),u===e)u=a[r]=n,++t._eventsCount;else if("function"==typeof u?u=a[r]=o?[n,u]:[u,n]:o?u.unshift(n):u.push(n),(s=y(t))>0&&u.length>s&&!u.warned){u.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=r,f.count=u.length,c=f,i&&i.warn&&i.warn(c)}return t}function g(t,r,n){var o={fired:!1,wrapFn:e,target:t,type:r,listener:n},s=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,f(this.listener,this.target,t))}.bind(o);return s.listener=n,o.wrapFn=s,s}function m(t,r,n){var o=t._events;if(o===e)return[];var s=o[r];return s===e?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(s):b(s,s.length)}function w(t){var r=this._events;if(r!==e){var n=r[t];if("function"==typeof n)return 1;if(n!==e)return n.length}return 0}function b(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t||t<0||h(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");p=t}}),l.init=function(){this._events!==e&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||e},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||h(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return y(this)},l.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o="error"===t,s=this._events;if(s!==e)o=o&&s.error===e;else if(!o)return!1;if(o){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var u=s[t];if(u===e)return!1;if("function"==typeof u)f(u,this,r);else{var c=u.length,h=b(u,c);for(n=0;n<c;++n)f(h[n],this,r)}return!0},l.prototype.addListener=function(t,e){return d(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return d(this,t,e,!0)},l.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,g(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,g(this,t,e)),this},l.prototype.removeListener=function(t,r){var n,o,s,i,a;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if((o=this._events)===e)return this;if((n=o[t])===e)return this;if(n===r||n.listener===r)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){a=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,s),1===n.length&&(o[t]=n[0]),o.removeListener!==e&&this.emit("removeListener",t,a||r)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var r,n,o;if((n=this._events)===e)return this;if(n.removeListener===e)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):n[t]!==e&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var s,i=Object.keys(n);for(o=0;o<i.length;++o)"removeListener"!==(s=i[o])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(r=n[t]))this.removeListener(t,r);else if(r!==e)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this},l.prototype.listeners=function(t){return m(this,t,!0)},l.prototype.rawListeners=function(t){return m(this,t,!1)},l.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):w.call(t,e)},l.prototype.listenerCount=w,l.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]}}],["bsock","/lib/bsock.js",function(t,e,r,n,o,s){"use strict";const i=h(6,r),a=h(7,r),u=h(8,r);t.WebSocket=i,t.Server=a,t.server=(()=>new a),t.createServer=a.createServer.bind(a),t.attach=a.attach.bind(a),t.Socket=u,t.socket=(()=>new u),t.connect=u.connect.bind(u)}],["bsock","/lib/backend-browser.js",function(e,r,n,o,s,i){"use strict";n.exports={Client:t.WebSocket||t.MozWebSocket,EventSource:t.EventSource}}],["bsock","/lib/server-browser.js",function(t,e,r,n,o,s){"use strict";const i=h(4,r);r.exports=class extends i{constructor(t){super(),this.sockets=new Set,this.channels=new Map,this.mounts=[]}attach(){return this}mount(){}async open(){}async close(){}join(){return!0}leave(){return!0}channel(){return null}to(){}all(){}static attach(t,e){return new this(e).attach(t)}static createServer(t){return new this(t)}}}],["bsock","/lib/socket.js",function(t,n,i,a,u,c){"use strict";const f=h(9,i),l=h(4,i),p=h(6,i).Client,y=h(10,i),d=h(11,i),g=h(12,i),m=h(16,i),w=h(17,i),b=h(18,i);class v{constructor(t,e,r){this.resolve=t,this.reject=e,this.time=r}}function E(t){return null!==t&&"number"!=typeof t&&"string"!=typeof t?null:t}function O(t){return"string"!=typeof t?"No message.":t}function A(t){return"string"!=typeof t?null:t}function S(t,e,r){if(!t){const t=new TypeError(`'${e}' must be a(n) ${r}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,S),t}}i.exports=class extends l{constructor(){super(),this.server=null,this.ws=null,this.protocol="",this.url="ws://127.0.0.1:80/socket.io/?transport=websocket",this.ssl=!1,this.host="127.0.0.1",this.port=80,this.inbound=!1,this.handshake=!1,this.opened=!1,this.connected=!1,this.challenge=!1,this.destroyed=!1,this.reconnection=!0,this.time=0,this.sequence=0,this.pingInterval=25e3,this.pingTimeout=6e4,this.lastPing=0,this.parser=new m,this.binary=!1,this.packet=null,this.timer=null,this.jobs=new Map,this.hooks=new Map,this.channels=new Set,this.events=new l,this.buffer=[],this.admin=!1,this.auth=!1}accept(t,e,r,n){f(!this.ws,"Cannot accept twice."),f(t),f(e),f(r),f(r.remoteAddress),f(null!=r.remotePort),f(n);let o="ws",s=r.remoteAddress,i=r.remotePort;return r.encrypted&&(o="wss"),-1!==s.indexOf(":")&&(s=`[${s}]`),i||(i=0),this.server=t,this.binary=-1===e.url.indexOf("b64=1"),this.url=`${o}://${s}:${i}/socket.io/?transport=websocket`,this.ssl="wss"===o,this.host=r.remoteAddress,this.port=r.remotePort,this.inbound=!0,this.ws=n,this.init(),this}connect(t,e,r,n){f(!this.ws,"Cannot connect twice."),"string"==typeof t&&(n=e,[t,e,r]=g.parseURL(t));let o="ws";r&&(o="wss"),e||(e="127.0.0.1"),f("string"==typeof e),f((65535&t)===t,"Must pass a port."),f(!r||"boolean"==typeof r),f(!n||Array.isArray(n));let s=e;-1!==e.indexOf(":")&&"["!==e[0]&&(s=`[${e}]`);const i=`${o}://${s}:${t}/socket.io/?transport=websocket`;return this.binary=!0,this.url=i,this.ssl=r,this.host=e,this.port=t,this.inbound=!1,this.ws=new p(i,n),this.init(),this}init(){this.protocol=this.ws.protocol,this.time=Date.now(),this.observe(),this.parser.on("error",t=>{this.emit("error",t)}),this.parser.on("frame",async t=>{try{await this.handleFrame(t)}catch(t){this.emit("error",t)}}),this.start()}observe(){const t=this.ws;f(t),t.binaryType="arraybuffer",t.onopen=(async()=>{await this.onOpen()}),t.onmessage=(async t=>{await this.onMessage(t)}),t.onerror=(async t=>{await this.onError(t)}),t.onclose=(async t=>{await this.onClose(t)})}async onOpen(){this.destroyed||this.inbound&&(f(!this.opened),f(!this.connected),f(!this.handshake),this.opened=!0,this.handshake=!0,await this.emitAsync("open"),this.sendHandshake(),this.connected=!0,await this.emitAsync("connect"),this.sendConnect())}async emitAsync(t,...e){const r=this.listeners(t);for(const t of r)try{await t(...e)}catch(t){this.emit("error",t)}}async onMessage(t){if(this.destroyed)return;let e;try{e=await function(t){return new Promise((e,n)=>{if("string"!=typeof t)if(t&&"object"==typeof t)if(null==t||!0!==t._isBuffer)if(t instanceof ArrayBuffer){const n=r.from(t);e(n)}else if(t.buffer instanceof ArrayBuffer){const n=r.from(t.buffer,t.byteOffset,t.byteLength);e(n)}else{if("undefined"!=typeof Blob&&Blob&&t instanceof Blob){const n=new FileReader;return n.onloadend=(()=>{const t=r.from(n.result);e(t)}),void n.readAsArrayBuffer(t)}n(new Error("Bad data object."))}else e(t);else n(new Error("Bad data object."));else e(t)})}(t.data)}catch(t){return void this.emit("error",t)}"string"!=typeof e?this.parser.feedBinary(e):this.parser.feedString(e)}async onError(t){this.destroyed||(this.emit("error",new Error(t.message)),this.inbound?this.destroy():this.close())}async onClose(t){if(this.destroyed)return;if(1e3===t.code||1001===t.code)return this.connected||this.emit("error",new Error("Could not connect.")),this.inbound?void this.destroy():void this.close();const e=w[t.code]||"UNKNOWN_CODE",r=`Websocket Closed: ${t.reason||"Unknown reason"} (code=${e}).`,n=new Error(r);n.reason=t.reason||"",n.code=t.code||0,this.emit("error",n),this.inbound?this.destroy():this.reconnection?this.close():this.destroy()}close(){if(!this.destroyed){this.time=Date.now(),this.packet=null,this.handshake=!1,this.connected=!1,this.challenge=!1,this.sequence=0,this.lastPing=0;for(const[t,e]of this.jobs)this.jobs.delete(t),e.reject(new Error("Job timed out."));f(this.ws),this.ws.onopen=(()=>{}),this.ws.onmessage=(()=>{}),this.ws.onerror=(()=>{}),this.ws.onclose=(()=>{}),this.ws.close(),this.emitAsync("disconnect")}}error(t){this.destroyed||this.emit("error",new Error(t))}destroy(){this.destroyed||(this.close(),this.stop(),this.opened=!1,this.destroyed=!0,this.buffer.length=0,this.emitAsync("close"),this.removeAllListeners(),this.on("error",()=>{}))}send(t){this.destroyed||(f(this.ws),t.binary&&this.binary?this.ws.send(t.toRaw()):this.ws.send(t.toString()))}reconnect(){f(!this.inbound),this.close(),this.ws=new p(this.url),this.time=Date.now(),this.observe()}start(){f(this.ws),f(null==this.timer),this.timer=o(()=>this.stall(),5e3)}stop(){null!=this.timer&&(s(this.timer),this.timer=null)}stall(){const t=Date.now();if(f(this.ws),!this.connected)return t-this.time>1e4?this.inbound||!this.reconnection?(this.error("Timed out waiting for connection."),void this.destroy()):(this.error("Timed out waiting for connection. Reconnecting..."),void this.reconnect()):void 0;for(const[e,r]of this.jobs)t-r.time>6e5&&(this.jobs.delete(e),r.reject(new Error("Job timed out.")));return this.inbound||this.challenge?!this.inbound&&t-this.lastPing>this.pingTimeout?(this.error("Connection is stalling (ping)."),this.inbound?void this.destroy():void this.close()):void 0:(this.challenge=!0,this.lastPing=t,void this.sendPing())}async handleFrame(t){if(this.destroyed)return e;switch(t.type){case d.types.OPEN:return this.handleOpen(t);case d.types.CLOSE:return this.handleClose(t);case d.types.PING:return this.handlePing(t);case d.types.PONG:return this.handlePong(t);case d.types.MESSAGE:return this.handleMessage(t);case d.types.UPGRADE:return this.handleUpgrade(t);case d.types.NOOP:return this.handleNoop(t);default:throw new Error("Unknown frame.")}}async handleOpen(t){if(this.inbound)throw new Error("Inbound socket sent an open frame.");if(t.binary)throw new Error("Received a binary open frame.");if(this.handshake)throw new Error("Duplicate open frame.");const e=JSON.parse(t.data);S(e&&"object"==typeof e,"open","object");const{pingInterval:r,pingTimeout:n}=e;S(r>>>0===r,"interval","uint32"),S(n>>>0===n,"timeout","uint32"),this.pingInterval=r,this.pingTimeout=n,this.handshake=!0,this.opened||(this.opened=!0,await this.emitAsync("open"))}async handleClose(t){if(this.inbound)throw new Error("Inbound socket sent a close frame.");this.close()}async handlePing(){if(!this.inbound)throw new Error("Outbound socket sent a ping frame.");this.sendPong()}async handlePong(){if(this.inbound)throw new Error("Inbound socket sent a pong frame.");if(!this.challenge)return this.error("Remote node sent bad pong."),void this.destroy();this.challenge=!1}async handleMessage(t){if(this.packet){const r=this.packet;if(!t.binary)throw new Error("Received non-binary frame as attachment.");return r.buffers.push(t.data),r.buffers.length===r.attachments?(this.packet=null,this.handlePacket(r)):e}if(t.binary)throw new Error("Received binary frame as a message.");const r=y.fromString(t.data);return r.attachments>0?(this.packet=r,e):this.handlePacket(r)}async handleUpgrade(t){if(!this.inbound)throw new Error("Outbound socket sent an upgrade frame.");throw new Error("Cannot upgrade from websocket.")}async handleNoop(t){}sendFrame(t,e,r){this.send(new d(t,e,r))}sendOpen(t){this.sendFrame(d.types.OPEN,t,!1)}sendClose(t){this.sendFrame(d.types.CLOSE,t,!1)}sendPing(t){this.sendFrame(d.types.PING,t,!1)}sendPong(t){this.sendFrame(d.types.PONG,t,!1)}sendMessage(t){this.sendFrame(d.types.MESSAGE,t,!1)}sendBinary(t){this.sendFrame(d.types.MESSAGE,t,!0)}sendHandshake(){const t=JSON.stringify({sid:"00000000000000000000",upgrades:[],pingInterval:this.pingInterval,pingTimeout:this.pingTimeout});this.sendOpen(t)}async handlePacket(t){if(this.destroyed)return e;switch(t.type){case y.types.CONNECT:return this.handleConnect();case y.types.DISCONNECT:return this.handleDisconnect();case y.types.EVENT:case y.types.BINARY_EVENT:{const e=t.getData();return S(Array.isArray(e),"args","array"),S(e.length>0,"args","array"),S("string"==typeof e[0],"event","string"),-1!==t.id?this.handleCall(t.id,e):this.handleEvent(e)}case y.types.ACK:case y.types.BINARY_ACK:{S(-1!==t.id,"id","uint32");const e=t.getData();S(null==e||Array.isArray(e),"args","array");let r=null,n=null;return e&&e.length>0&&(r=e[0]),e&&e.length>1&&(n=e[1]),null==n&&(n=null),r?(S("object"==typeof r,"error","object"),this.handleError(t.id,r)):this.handleAck(t.id,n)}case y.types.ERROR:{const e=t.getData();return S(e&&"object"==typeof e,"error","object"),this.handleError(-1,e)}default:throw new Error("Unknown packet.")}}async handleConnect(){if(this.inbound)throw new Error("Inbound socket sent connect packet.");this.connected=!0,await this.emitAsync("connect");for(const t of this.buffer)this.sendPacket(t);this.buffer.length=0}async handleDisconnect(){this.close()}async handleEvent(t){try{const e=t[0];if(b.hasOwnProperty(e))throw new Error(`Cannot emit blacklisted event: ${e}.`);this.events.emit(...t)}catch(t){this.emit("error",t),this.sendError(-1,t)}}async handleCall(t,e){let r;try{const n=e.shift();if(b.hasOwnProperty(n))throw new Error(`Cannot emit blacklisted event: ${n}.`);const o=this.hooks.get(n);if(!o)throw new Error(`Call not found: ${n}.`);r=await o(...e)}catch(e){return this.emit("error",e),void this.sendError(t,e)}null==r&&(r=null),this.sendAck(t,r)}async handleAck(t,e){const r=this.jobs.get(t);if(!r)throw new Error(`Job not found for ${t}.`);this.jobs.delete(t),r.resolve(e)}async handleError(t,e){const r=O(e.message),n=A(e.name),o=A(e.type),s=E(e.code);if(-1===t){const t=new Error(r);return t.name=n,t.type=o,t.code=s,void this.emit("error",t)}const i=this.jobs.get(t);if(!i)throw new Error(`Job not found for ${t}.`);this.jobs.delete(t);const a=new Error(r);a.name=n,a.type=o,a.code=s,i.reject(a)}sendPacket(t){this.sendMessage(t.toString());for(const e of t.buffers)this.sendBinary(e)}sendConnect(){this.sendPacket(new y(y.types.CONNECT))}sendDisconnect(){this.sendPacket(new y(y.types.DISCONNECT))}sendEvent(t){const e=new y;e.type=y.types.EVENT,e.setData(t),this.connected?this.sendPacket(e):this.buffer.push(e)}sendCall(t,e){const r=new y;r.type=y.types.EVENT,r.id=t,r.setData(e),this.connected?this.sendPacket(r):this.buffer.push(r)}sendAck(t,e){const r=new y;r.type=y.types.ACK,r.id=t,r.setData([null,e]),this.sendPacket(r)}sendError(t,e){const r=O(e.message),n=A(e.name),o=A(e.type),s=E(e.code);if(-1===t){const t=new y;return t.type=y.types.ERROR,t.setData({message:r,name:n,type:o,code:s}),void this.sendPacket(t)}const i=new y;i.type=y.types.ACK,i.id=t,i.setData([{message:r,name:n,type:o,code:s}]),this.sendPacket(i)}bind(t,e){S("string"==typeof t,"event","string"),S("function"==typeof e,"handler","function"),f(!b.hasOwnProperty(t),"Blacklisted event."),this.events.on(t,e)}unbind(t,e){S("string"==typeof t,"event","string"),S("function"==typeof e,"handler","function"),f(!b.hasOwnProperty(t),"Blacklisted event."),this.events.removeListener(t,e)}fire(...t){S(t.length>0,"event","string"),S("string"==typeof t[0],"event","string"),this.sendEvent(t)}hook(t,e){S("string"==typeof t,"event","string"),S("function"==typeof e,"handler","function"),f(!this.hooks.has(t),"Hook already bound."),f(!b.hasOwnProperty(t),"Blacklisted event."),this.hooks.set(t,e)}unhook(t){S("string"==typeof t,"event","string"),f(!b.hasOwnProperty(t),"Blacklisted event."),this.hooks.delete(t)}call(...t){S(t.length>0,"event","string"),S("string"==typeof t[0],"event","string");const e=this.sequence;return this.sequence+=1,this.sequence>>>=0,f(!this.jobs.has(e),"ID collision."),this.sendCall(e,t),new Promise((t,r)=>{this.jobs.set(e,new v(t,r,Date.now()))})}channel(t){return this.channels.has(t)}join(t){return!!this.server&&this.server.join(this,t)}leave(t){return!!this.server&&this.server.leave(this,t)}static accept(t,e,r,n){return(new this).accept(t,e,r,n)}static connect(t,e,r,n){return(new this).connect(t,e,r,n)}}}],["bsert","/lib/assert.js",function(t,r,n,o,s,i){"use strict";class a extends Error{constructor(t){"string"==typeof t&&(t={message:t}),null!==t&&"object"==typeof t||(t={});let e=null,r="fail",n=Boolean(t.generatedMessage);var o;if(null!=t.message&&(e="string"==typeof(o=t.message)?o:k(o)?w(o):m(o)),"string"==typeof t.operator&&(r=t.operator),null==e){if("fail"===r)e="Assertion failed.";else{e=`${m(t.actual)} ${r} ${m(t.expected)}`}n=!0}super(e);let s=this.constructor;"function"==typeof t.stackStartFunction?s=t.stackStartFunction:"function"==typeof t.stackStartFn&&(s=t.stackStartFn),this.type="AssertionError",this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.generatedMessage=n,this.actual=t.actual,this.expected=t.expected,this.operator=r,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}function u(t,e){if(!t){let r=!1;if(0===arguments.length)e="No value argument passed to `assert()`.",r=!0;else if(null==e)e="Assertion failed.",r=!0;else if(k(e))throw e;throw new a({message:e,actual:t,expected:!0,operator:"==",generatedMessage:r,stackStartFn:u})}}function c(t,e,r){if(!Object.is(t,e)){if(k(r))throw r;throw new a({message:r,actual:t,expected:e,operator:"strictEqual",stackStartFn:c})}}function f(t,e,r){if(Object.is(t,e)){if(k(r))throw r;throw new a({message:r,actual:t,expected:e,operator:"notStrictEqual",stackStartFn:f})}}function h(t,r,n){"string"==typeof r&&(n=r,r=e);let o=!1,s=null;g("function"==typeof t,"func","function");try{t()}catch(t){o=!0,s=t}if(o){if(b(s,r,n,h)){let t=!1;throw null==n&&(n="Got unwanted exception.",t=!0),new a({message:n,actual:s,expected:r,operator:"doesNotThrow",generatedMessage:t,stackStartFn:h})}throw s}}async function l(t,r,n){"string"==typeof r&&(n=r,r=e);let o=!1,s=null;"function"!=typeof t&&g(x(t),"func","promise");try{x(t)?await t:await t()}catch(t){o=!0,s=t}if(!o){let t=!1;throw null==n&&(n="Missing expected rejection.",t=!0),new a({message:n,actual:e,expected:r,operator:"rejects",generatedMessage:t,stackStartFn:l})}if(!b(s,r,n,l))throw s}async function p(t,r,n){"string"==typeof r&&(n=r,r=e);let o=!1,s=null;"function"!=typeof t&&g(x(t),"func","promise");try{x(t)?await t:await t()}catch(t){o=!0,s=t}if(o){if(b(s,r,n,p)){let t=!1;throw null==n&&(n="Got unwanted rejection.",t=!0),new a({message:n,actual:e,expected:r,operator:"doesNotReject",generatedMessage:t,stackStartFn:p})}throw s}}function y(t,e,r){if(!v(t,e,!1)){if(k(r))throw r;throw new a({message:r,actual:t,expected:e,operator:"deepStrictEqual",stackStartFn:y})}}function d(t,e,r){if(v(t,e,!0)){if(k(r))throw r;throw new a({message:r,actual:t,expected:e,operator:"notDeepStrictEqual",stackStartFn:d})}}function g(t,e,r){if(!t){let t;t=null==e?"Invalid type for parameter.":null==r?`Invalid type for "${e}".`:`"${e}" must be a(n) ${r}.`;const n=new TypeError(t);throw Error.captureStackTrace&&Error.captureStackTrace(n,g),n}}function m(t){switch(typeof t){case"undefined":return"undefined";case"object":return null===t?"null":`[${function(t){const e=function(t){return A(t).slice(8,-1)}(t);if(null==t)return e;if("Object"!==e&&"Error"!==e)return e;let r,n;try{r=t.constructor}catch(t){}if(null==r)return e;try{n=r.name}catch(t){return e}return"string"!=typeof n||0===n.length?e:n}(t)}]`;case"boolean":case"number":return`${t}`;case"string":return t.length>80&&(t=`${t.substring(0,77)}...`),JSON.stringify(t);case"symbol":return w(t);case"function":return`[${function(t){let e;try{e=t.name}catch(t){}return"string"!=typeof e||0===e.length?"Function":`Function: ${e}`}(t)}]`;case"bigint":return`${t}n`;default:return`[${typeof t}]`}}function w(t){try{return String(t)}catch(t){return"Object"}}function b(t,r,n,o){if(null==r)return!0;if(_(r))return r.test(t);if("function"!=typeof r){if(o===h||o===p)throw new TypeError('"expected" must not be an object.');if("object"!=typeof r)throw new TypeError('"expected" must be an object.');let e=!1;if(null==n){n=`Missing expected ${o===l?"rejection":"exception"}.`,e=!0}if(null==t||"object"!=typeof t)throw new a({actual:t,expected:r,message:n,operator:o.name,generatedMessage:e,stackStartFn:o});const s=Object.keys(r);if(k(r)&&s.push("name","message"),0===s.length)throw new TypeError('"expected" may not be an empty object.');for(const i of s){const s=r[i],u=t[i];if(("string"!=typeof u||!_(s)||!s.test(u))&&!(i in t&&v(u,s,!1)))throw new a({actual:t,expected:r,message:n,operator:o.name,generatedMessage:e,stackStartFn:o})}return!0}return r.prototype!==e&&t instanceof r||!Error.isPrototypeOf(r)&&!0===r.call({},t)}function v(t,e,r){try{return E(t,e,null)}catch(t){return r}}function E(t,e,r){if(Object.is(t,e))return!0;if(!j(t)||!j(e))return!1;if(A(t)!==A(e))return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(S(t)&&S(e))return t.equals(e);if(t instanceof Date)return Object.is(t.getTime(),e.getTime());if(_(t))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(k(t)&&t.message!==e.message)return!1;if(function(t){return t instanceof ArrayBuffer}(t)&&(t=new Uint8Array(t),e=new Uint8Array(e)),function(t){return ArrayBuffer.isView(t)}(t)&&!S(t)){if(S(e))return!1;const r=new Uint8Array(t.buffer),n=new Uint8Array(e.buffer);if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==n[t])return!1;return!0}if(function(t){return t instanceof Set}(t)){if(t.size!==e.size)return!1;return new Set([...t,...e]).size===t.size}if(r){const n=r.a.get(t);if(null!=n){const t=r.b.get(e);if(null!=t)return n===t}r.p+=1}else r={a:new Map,b:new Map,p:0};r.a.set(t,r.p),r.b.set(e,r.p);const n=function(t,e,r){if(n=t,n instanceof Map){if(t.size!==e.size)return!1;const n=new Set([...t.keys(),...e.keys()]);if(n.size!==t.size)return!1;for(const o of n)if(!E(t.get(o),e.get(o),r))return!1;return!0}var n;if(function(t){return Array.isArray(t)}(t)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!E(t[n],e[n],r))return!1;return!0}const o=O(t),s=O(e);if(o.length!==s.length)return!1;const i=new Set([...o,...s]);if(i.size!==o.length)return!1;for(const n of i)if(!E(t[n],e[n],r))return!1;return!0}(t,e,r);return r.a.delete(t),r.b.delete(e),n}function O(t){const e=Object.keys(t);if(!Object.getOwnPropertySymbols)return e;if(!Object.getOwnPropertyDescriptor)return e;const r=Object.getOwnPropertySymbols(t);for(const n of r){const r=Object.getOwnPropertyDescriptor(t,n);r&&r.enumerable&&e.push(n)}return e}function A(t){if(t===e)return"[object Undefined]";if(null===t)return"[object Null]";try{return Object.prototype.toString.call(t)}catch(t){return"[object Object]"}}function S(t){return j(t)&&"function"==typeof t.writeUInt32LE&&"function"==typeof t.equals}function k(t){return t instanceof Error}function j(t){return t&&"object"==typeof t}function x(t){return t instanceof Promise}function _(t){return t instanceof RegExp}function R(t){if("string"!=typeof t)return!1;switch(t){case"ascii":case"binary":case"base64":case"hex":case"latin1":case"ucs2":case"utf8":case"utf16le":return!0}return!1}function N(t,e,r){if("string"==typeof e){if(!S(t))return null;const{constructor:n}=t;if(!n||"function"!=typeof n.from)return null;if(!R(r))return null;if("hex"===r&&1&e.length)return null;const o=n.from(e,r);return"hex"===r&&o.length!==e.length>>>1?null:o}return e}u.AssertionError=a,u.assert=u,u.strict=u,u.ok=u,u.equal=c,u.notEqual=f,u.strictEqual=c,u.notStrictEqual=f,u.fail=function t(e){let r=!1;if(k(e))throw e;throw null==e&&(e="Assertion failed.",r=!0),new a({message:e,actual:!1,expected:!0,operator:"fail",generatedMessage:r,stackStartFn:t})},u.throws=function t(r,n,o){"string"==typeof n&&(o=n,n=e);let s=!1,i=null;g("function"==typeof r,"func","function");try{r()}catch(t){s=!0,i=t}if(!s){let r=!1;throw null==o&&(o="Missing expected exception.",r=!0),new a({message:o,actual:e,expected:n,operator:"throws",generatedMessage:r,stackStartFn:t})}if(!b(i,n,o,t))throw i},u.doesNotThrow=h,u.rejects=l,u.doesNotReject=p,u.ifError=function t(e){if(null!=e){let r="ifError got unwanted exception: ";throw"object"==typeof e&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=m(e),new a({message:r,actual:e,expected:null,operator:"ifError",generatedMessage:!0,stackStartFn:t})}},u.deepEqual=y,u.notDeepEqual=d,u.deepStrictEqual=y,u.notDeepStrictEqual=d,u.bufferEqual=function t(e,r,n,o){if(R(n)||(o=n,n=null),null==n&&(n="hex"),r=N(e,r,n),g(S(e),"actual","buffer"),g(S(r),"expected","buffer"),e!==r&&!e.equals(r)){if(k(o))throw o;throw new a({message:o,actual:e.toString(n),expected:r.toString(n),operator:"bufferEqual",stackStartFn:t})}},u.notBufferEqual=function t(e,r,n,o){if(R(n)||(o=n,n=null),null==n&&(n="hex"),r=N(e,r,n),g(S(e),"actual","buffer"),g(S(r),"expected","buffer"),e===r||e.equals(r)){if(k(o))throw o;throw new a({message:o,actual:e.toString(n),expected:r.toString(n),operator:"notBufferEqual",stackStartFn:t})}},u.enforce=g,u.range=function t(e,r){if(!e){const e=null!=r?`"${r}" is out of range.`:"Parameter is out of range.",n=new RangeError(e);throw Error.captureStackTrace&&Error.captureStackTrace(n,t),n}},n.exports=u}],["bsock","/lib/packet.js",function(t,r,n,o,s,i){"use strict";const a=h(9,n),u={CONNECT:0,DISCONNECT:1,EVENT:2,ACK:3,ERROR:4,BINARY_EVENT:5,BINARY_ACK:6};class c{constructor(t){this.type=t||0,this.attachments=0,this.nsp="/",this.id=-1,this.data="",this.buffers=[]}setData(t){a(t!==e),a("number"!=typeof t),a("function"!=typeof t);const[r,n]=function(t){const e=[],r=function t(e,r,n,o){if(null===r||"object"!=typeof r)return r;if(null!=r&&!0===r._isBuffer){const t=o.get(r);if(null!=t)return t;const e={_placeholder:!0,num:n.length};return o.set(r,e),n.push(r),e}if(o.has(r))throw new TypeError("Converting circular structure to JSON.");if(Array.isArray(r)){const e=[];o.set(r,null);for(let s=0;s<r.length;s++)e.push(t(s,r[s],n,o));return o.delete(r),e}const s=Object.create(null);const i="function"==typeof r.toJSON?r.toJSON(e):r;o.set(r,null);for(const e of Object.keys(i))s[e]=t(e,i[e],n,o);o.delete(r);return s}("",t,e,new Map);return[JSON.stringify(r),e]}(t);if(this.data=r,this.buffers=n,this.attachments=n.length,this.attachments>0)switch(this.type){case u.EVENT:this.type=u.BINARY_EVENT;break;case u.ACK:this.type=u.BINARY_ACK}return this}getData(){return 0===this.data.length?null:(t=this.data,e=this.buffers,JSON.parse(t,(t,n)=>null!==(r=n)&&"object"==typeof r&&!0===r._placeholder&&r.num>>>0===r.num&&n.num<e.length?e[n.num]:n));var t,e,r}toString(){let t=this.type.toString(10);switch(this.type){case u.BINARY_EVENT:case u.BINARY_ACK:t+=this.attachments.toString(10)+"-"}return"/"!==this.nsp&&(t+=this.nsp+","),-1!==this.id&&(t+=this.id.toString(10)),t+=this.data}static fromString(t){a("string"==typeof t),a(t.length>0);let e=0,r=0,n=0,o="/",s=-1,i="";switch([e,r]=function(t,e){const r=t.charCodeAt(e)-48;return r<0||r>9?-1:[e+1,r]}(t,e),a(-1!==r),a(r<=u.BINARY_ACK),r){case u.BINARY_EVENT:case u.BINARY_ACK:[e,n]=f(t,e),a(-1!==n),a(e<t.length),a("-"===t[e]),e+=1}e<t.length&&"/"===t[e]&&([e,o]=function(t,e,r){let n=e;for(;n<t.length&&t[n]!==r;n++);return a(n<t.length),[n+1,t.substring(e,n)]}(t,e,",")),[e,s]=f(t,e),e<t.length&&(i=t.substring(e));const c=new this;return c.type=r,c.attachments=n,c.nsp=o,c.id=s,c.data=i,c}}function f(t,e){let r=0,n=0;for(;e<t.length;e++){const o=t.charCodeAt(e)-48;if(o<0||o>9)break;n*=10,n+=o,a((r+=1)<=10)}return a(n<=4294967295),0===r&&(n=-1),[e,n]}c.types=u,n.exports=c}],["bsock","/lib/frame.js",function(t,e,n,o,s,i){"use strict";const a=h(9,n),u=r.alloc(0),c={OPEN:0,CLOSE:1,PING:2,PONG:3,MESSAGE:4,UPGRADE:5,NOOP:6};class f{constructor(t,e,r){a("number"==typeof t),a(t>>>0===t),a(t<=c.NOOP),a("boolean"==typeof r),r?(null==e&&(e=u),a(null!=e&&!0===e._isBuffer)):(null==e&&(e=""),a("string"==typeof e)),this.type=t,this.data=e,this.binary=r}toString(){let t="";return this.binary?(t+="b",t+=this.type.toString(10),t+=this.data.toString("base64")):(t+=this.type.toString(10),t+=this.data),t}static fromString(t){a("string"==typeof t);let e,n=t.charCodeAt(0),o=!1;return 98===n?(a(t.length>1),n=t.charCodeAt(1),e=r.from(t.substring(2),"base64"),o=!0):e=t.substring(1),a((n-=48)>=0&&n<=9),a(n<=c.NOOP),new this(n,e,o)}size(){let t=1;return this.binary?t+=this.data.length:t+=r.byteLength(this.data,"utf8"),t}toRaw(){const t=r.allocUnsafe(this.size());return t[0]=this.type,this.binary?this.data.copy(t,1):this.data.length>0&&t.write(this.data,1,"utf8"),t}static fromRaw(t){a(null!=t&&!0===t._isBuffer),a(t.length>0);const e=t[0];return a(e<=c.NOOP),new this(e,t.slice(1),!0)}}f.types=c,f.table=["open","close","ping","pong","message","upgrade","noop"],n.exports=f}],["bsock","/lib/util.js",function(t,e,r,n,o,s){"use strict";const i=h(9,r),a=h(13,r);t.parseURL=function(t){-1===t.indexOf("://")&&(t=`ws://${t}`);const e=a.parse(t);if("http:"!==e.protocol&&"https:"!==e.protocol&&"ws:"!==e.protocol&&"wss:"!==e.protocol)throw new Error("Invalid protocol for websocket URL.");if(!e.hostname)throw new Error("Malformed URL.");const r=e.hostname;let n=80,o=!1;return"https:"!==e.protocol&&"wss:"!==e.protocol||(n=443,o=!0),e.port&&(n=parseInt(e.port,10),i((65535&n)===n),i(0!==n)),[n,r,o]}}],["bpkg","/lib/builtins/url.js",function(t,e,r,n,o,s){var i=[["url","/url.js",function(t,e,r,n,o){"use strict";var s=h(14,e),i=u(1);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=A,t.resolve=function(t,e){return A(t,!1,!0).resolve(e)},t.resolveObject=function(t,e){return t?A(t,!1,!0).resolveObject(e):e},t.format=function(t){i.isString(t)&&(t=A(t));return t instanceof a?t.format():a.prototype.format.call(t)},t.Url=a;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),y=["'"].concat(p),d=["%","/","?",";","#"].concat(y),g=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=h(15,e);function A(t,e,r){if(t&&i.isObject(t)&&t instanceof a)return t;var n=new a;return n.parse(t,e,r),n}a.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",a=t.split(o);a[0]=a[0].replace(/\\/g,"/");var u=t=a.join(o);if(u=u.trim(),!r&&1===t.split("#").length){var f=l.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=c.exec(u);if(h){var p=(h=h[0]).toLowerCase();this.protocol=p,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===u.substr(0,2);!A||h&&v[h]||(u=u.substr(2),this.slashes=!0)}if(!v[h]&&(A||h&&!E[h])){for(var S,k,j=-1,x=0;x<g.length;x++){-1!==(_=u.indexOf(g[x]))&&(-1===j||_<j)&&(j=_)}-1!==(k=-1===j?u.lastIndexOf("@"):u.lastIndexOf("@",j))&&(S=u.slice(0,k),u=u.slice(k+1),this.auth=decodeURIComponent(S)),j=-1;for(x=0;x<d.length;x++){var _;-1!==(_=u.indexOf(d[x]))&&(-1===j||_<j)&&(j=_)}-1===j&&(j=u.length),this.host=u.slice(0,j),u=u.slice(j),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var N=this.hostname.split(/\./),I=(x=0,N.length);x<I;x++){var T=N[x];if(T&&!T.match(m)){for(var C="",B=0,P=T.length;B<P;B++)T.charCodeAt(B)>127?C+="x":C+=T[B];if(!C.match(m)){var L=N.slice(0,x),U=N.slice(x+1),q=T.match(w);q&&(L.push(q[1]),U.unshift(q[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=s.toASCII(this.hostname));var M=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+M,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!b[p])for(x=0,I=y.length;x<I;x++){var D=y[x];if(-1!==u.indexOf(D)){var $=encodeURIComponent(D);$===D&&($=escape(D)),u=u.split(D).join($)}}var z=u.indexOf("#");-1!==z&&(this.hash=u.substr(z),u=u.slice(0,z));var G=u.indexOf("?");if(-1!==G?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=O.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),E[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var V=this.search||"";this.path=M+V}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=O.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||E[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},a.prototype.resolve=function(t){return this.resolveObject(A(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(r[f]=t[f])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!E[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var p=h[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",g=r.search||"";r.path=d+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=w||m||r.host&&t.pathname,O=b,A=r.pathname&&r.pathname.split("/")||[],S=(y=t.pathname&&t.pathname.split("/")||[],r.protocol&&!E[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===A[0]?A[0]=r.host:A.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===y[0]?y[0]=t.host:y.unshift(t.host)),t.host=null),b=b&&(""===y[0]||""===A[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,A=y;else if(y.length)A||(A=[]),A.pop(),A=A.concat(y),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)r.hostname=r.host=A.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!A.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=A.slice(-1)[0],j=(r.host||t.host||A.length>1)&&("."===k||".."===k)||""===k,x=0,_=A.length;_>=0;_--)"."===(k=A[_])?A.splice(_,1):".."===k?(A.splice(_,1),x++):x&&(A.splice(_,1),x--);if(!b&&!O)for(;x--;x)A.unshift("..");!b||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),j&&"/"!==A.join("/").substr(-1)&&A.push("");var R,N=""===A[0]||A[0]&&"/"===A[0].charAt(0);S&&(r.hostname=r.host=N?"":A.length?A.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(b=b||r.host&&A.length)&&!N&&A.unshift(""),A.length?r.pathname=A.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}}],["url","/util.js",function(t,e,r,n,o){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}]],a=[];function u(e){if(e>>>0!==e||e>i.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(e);for(;a.length<=e;)a.push(null);var s=a[e];if(s)return s.exports;var u=i[e],c=u[0],f=u[1],h=u[2],l=t,p=r;0!==e&&(p={id:"/"+c+f,exports:l={},parent:r.parent,filename:r.filename,loaded:!1,children:r.children,paths:r.paths}),a[e]=p;try{h.call(l,l,p,n,o,void 0)}catch(t){throw a[e]=null,t}return i[e]=null,0!==e&&(p.loaded=!0),p.exports}u(0)}],["bpkg","/lib/builtins/punycode.js",function(t,e,r,n,o,s){"use strict";const i=2147483647,a=/^xn--/,u=/[^\0-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,l=String.fromCharCode;function p(t){throw new RangeError(f[t])}function y(t,e){const r=t.split("@");let n="";r.length>1&&(n=r[0]+"@",t=r[1]);const o=function(t,e){const r=[];let n=t.length;for(;n--;)r[n]=e(t[n]);return r}((t=t.replace(c,".")).split("."),e).join(".");return n+o}function d(t){const e=[];let r=0;const n=t.length;for(;r<n;){const o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const n=t.charCodeAt(r++);56320==(64512&n)?e.push(((1023&o)<<10)+(1023&n)+65536):(e.push(o),r--)}else e.push(o)}return e}const g=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},m=function(t,e,r){let n=0;for(t=r?h(t/700):t>>1,t+=h(t/e);t>455;n+=36)t=h(t/35);return h(n+36*t/(t+38))},w=function(t){const e=[],r=t.length;let n=0,o=128,s=72,a=t.lastIndexOf("-");a<0&&(a=0);for(let r=0;r<a;++r)t.charCodeAt(r)>=128&&p("not-basic"),e.push(t.charCodeAt(r));for(let c=a>0?a+1:0;c<r;){let a=n;for(let e=1,o=36;;o+=36){c>=r&&p("invalid-input");const a=(u=t.charCodeAt(c++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(a>=36||a>h((i-n)/e))&&p("overflow"),n+=a*e;const f=o<=s?1:o>=s+26?26:o-s;if(a<f)break;const l=36-f;e>h(i/l)&&p("overflow"),e*=l}const f=e.length+1;s=m(n-a,f,0==a),h(n/f)>i-o&&p("overflow"),o+=h(n/f),n%=f,e.splice(n++,0,o)}var u;return String.fromCodePoint(...e)},b=function(t){const e=[];let r=(t=d(t)).length,n=128,o=0,s=72;for(const r of t)r<128&&e.push(l(r));let a=e.length,u=a;for(a&&e.push("-");u<r;){let r=i;for(const e of t)e>=n&&e<r&&(r=e);const c=u+1;r-n>h((i-o)/c)&&p("overflow"),o+=(r-n)*c,n=r;for(const r of t)if(r<n&&++o>i&&p("overflow"),r==n){let t=o;for(let r=36;;r+=36){const n=r<=s?1:r>=s+26?26:r-s;if(t<n)break;const o=t-n,i=36-n;e.push(l(g(n+o%i,0))),t=h(o/i)}e.push(l(g(t,0))),s=m(o,c,u==a),o=0,++u}++o,++n}return e.join("")},v={version:"2.1.0",ucs2:{decode:d,encode:t=>String.fromCodePoint(...t)},decode:w,encode:b,toASCII:function(t){return y(t,function(t){return u.test(t)?"xn--"+b(t):t})},toUnicode:function(t){return y(t,function(t){return a.test(t)?w(t.slice(4).toLowerCase()):t})}};r.exports=v}],["bpkg","/lib/builtins/querystring.js",function(t,r,n,o,s,i){var a=[["querystring","/index.js",function(t,e,r,n,o){"use strict";t.decode=t.parse=c(1),t.encode=t.stringify=c(2)}],["querystring","/decode.js",function(t,e,r,n,o){"use strict";function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var i=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var f,h,l,p,y=t[c].replace(i,"%20"),d=y.indexOf(r);d>=0?(f=y.substr(0,d),h=y.substr(d+1)):(f=y,h=""),l=decodeURIComponent(f),p=decodeURIComponent(h),s(o,l)?Array.isArray(o[l])?o[l].push(p):o[l]=[o[l],p]:o[l]=p}return o}}],["querystring","/encode.js",function(t,r,n,o,s){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};r.exports=function(t,r,n,o){return r=r||"&",n=n||"=",null===t&&(t=e),"object"==typeof t?Object.keys(t).map(function(e){var o=encodeURIComponent(i(e))+n;return Array.isArray(t[e])?t[e].map(function(t){return o+encodeURIComponent(i(t))}).join(r):o+encodeURIComponent(i(t[e]))}).join(r):o?encodeURIComponent(i(o))+n+encodeURIComponent(i(t)):""}}]],u=[];function c(e){if(e>>>0!==e||e>a.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(e);for(;u.length<=e;)u.push(null);var r=u[e];if(r)return r.exports;var i=a[e],c=i[0],f=i[1],h=i[2],l=t,p=n;0!==e&&(p={id:"/"+c+f,exports:l={},parent:n.parent,filename:n.filename,loaded:!1,children:n.children,paths:n.paths}),u[e]=p;try{h.call(l,l,p,o,s,void 0)}catch(t){throw u[e]=null,t}return a[e]=null,0!==e&&(p.loaded=!0),p.exports}c(0)}],["bsock","/lib/parser.js",function(t,e,n,o,s,i){"use strict";const a=h(9,n),u=h(4,n),c=h(11,n),f=1e8;n.exports=class extends u{constructor(){super()}error(t){this.emit("error",new Error(t))}feedBinary(t){if(a(null!=t&&!0===t._isBuffer),t.length>f)return void this.error("Frame too large.");let e;try{e=c.fromRaw(t)}catch(t){return void this.emit("error",t)}this.emit("frame",e)}feedString(t){if(a("string"==typeof t),r.byteLength(t,"utf8")>f)return void this.error("Frame too large.");let e;try{e=c.fromString(t)}catch(t){return void this.emit("error",t)}this.emit("frame",e)}}}],["bsock","/lib/codes.js",function(t,e,r,n,o,s){"use strict";r.exports={1000:"NORMAL_CLOSURE",1001:"GOING_AWAY",1002:"PROTOCOL_ERROR",1003:"UNSUPPORTED_DATA",1004:"RESERVED",1005:"NO_STATUS_RECVD",1006:"ABNORMAL_CLOSURE",1007:"INVALID_FRAME_PAYLOAD_DATA",1008:"POLICY_VIOLATION",1009:"MESSAGE_TOO_BIG",1010:"MISSING_EXTENSION",1011:"INTERNAL_ERROR",1012:"SERVICE_RESTART",1013:"TRY_AGAIN_LATER",1014:"BAD_GATEWAY",1015:"TLS_HANDSHAKE"}}],["bsock","/lib/blacklist.js",function(t,e,r,n,o,s){"use strict";r.exports={connect:!0,connect_error:!0,connect_timeout:!0,connecting:!0,disconnect:!0,error:!0,reconnect:!0,reconnect_attempt:!0,reconnect_failed:!0,reconnect_error:!0,reconnecting:!0,ping:!0,pong:!0}}],["bpkg","/lib/builtins/timers.js",function(r,n,o,s,i,a){"use strict";var u=r,c=t,f=Function.prototype.apply,h=Array.prototype.slice,l=c.setTimeout,p=c.clearTimeout,y=c.setInterval,d=c.clearInterval,g=c.setImmediate,m=c.clearImmediate;function w(){return!1}function b(){return this}function v(t,e,r){this._id=f.call(t,c,r),this._set=t,this._clear=e,this._args=r}function E(t){this._id=t}v.prototype.hasRef=w,v.prototype.ref=b,v.prototype.unref=b,v.prototype.refresh=function(){return this._clear.call(c,this._id),this._id=f.call(this._set,c,this._args),this},v.prototype.close=function(){return this._clear.call(c,this._id),this},E.prototype.hasRef=w,E.prototype.ref=b,E.prototype.unref=b,u.setTimeout=function(){var t=h.call(arguments,0);return new v(l,p,t)},u.clearTimeout=function(t){t instanceof v&&t.close()},u.setInterval=function(){var t=h.call(arguments,0);return new v(y,d,t)},u.clearInterval=u.clearTimeout,u.setImmediate=function(){return new E(f.call(g,c,arguments))},u.clearImmediate=function(t){t instanceof E&&m.call(c,t._id)},function(){if(!c.setImmediate){var t,r,n,o,s,i=1,a={},u=!1,f=c.document;!function(){if(c.postMessage&&!c.importScripts){var t=!0,e=c.onmessage;return c.onmessage=function(){t=!1},c.postMessage("","*"),c.onmessage=e,t}return!1}()?c.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){p(t.data)},t=function(t){n.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(r=f.documentElement,t=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):t=function(t){l(p,0,t)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===c&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(t.data.slice(o.length))},c.addEventListener?c.addEventListener("message",s,!1):c.attachEvent("onmessage",s),t=function(t){c.postMessage(o+t,"*")}),g=function(e){"function"!=typeof e&&(e=new Function(String(e)));for(var r=new Array(arguments.length-1),n=0;n<r.length;n++)r[n]=arguments[n+1];var o={callback:e,args:r};return a[i]=o,t(i),i++},m=h}function h(t){delete a[t]}function p(t){if(u)l(p,0,t);else{var r=a[t];if(r){u=!0;try{!function(t){var r=t.callback,n=t.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(e,n)}}(r)}finally{h(t),u=!1}}}}}()}],["bpkg","/lib/builtins/buffer.js",function(t,r,n,o,s,a){var u=[["buffer","/index.js",function(t,r,n,o,s){"use strict";var a=f(1),u=f(2);t.Buffer=l,t.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},t.INSPECT_MAX_BYTES=50;var c=2147483647;function h(t){if(t>c)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=l.prototype,e}function l(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return p(t,e,r)}function p(t,r,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|w(t,e),n=h(r),o=n.write(t,e);o!==r&&(n=n.slice(0,o));return n}(t,r);if(ArrayBuffer.isView(t))return g(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return function(t,r,n){if(r<0||t.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var o;o=r===e&&n===e?new Uint8Array(t):n===e?new Uint8Array(t,r):new Uint8Array(t,r,n);return o.__proto__=l.prototype,o}(t,r,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return l.from(o,r,n);var s=function(t){if(null!=t&&!0===t._isBuffer){var r=0|m(t.length),n=h(r);return 0===n.length?n:(t.copy(n,0,0,r),n)}if(t.length!==e)return"number"!=typeof t.length||K(t.length)?h(0):g(t);if("Buffer"===t.type&&Array.isArray(t.data))return g(t.data)}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function y(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return y(t),h(t<0?0:0|m(t))}function g(t){for(var e=t.length<0?0:0|m(t.length),r=h(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function m(t){if(t>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|t}function w(t,e){if(null!=t&&!0===t._isBuffer)return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(o)return n?-1:$(t).length;e=(""+e).toLowerCase(),o=!0}}function b(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),null!=e&&!0===e._isBuffer)return 0===e.length?-1:E(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):E(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function E(t,r,n,o,s){var i,a=1,u=t.length,c=r.length;if(o!==e&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||r.length<2)return-1;a=2,u/=2,c/=2,n/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(s){var h=-1;for(i=n;i<u;i++)if(f(t,i)===f(r,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===c)return h*a}else-1!==h&&(i-=i-h),h=-1}else for(n+c>u&&(n=u-c),i=n;i>=0;i--){for(var l=!0,p=0;p<c;p++)if(f(t,i+p)!==f(r,p)){l=!1;break}if(l)return i}return-1}function O(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var s=e.length;n>s/2&&(n=s/2);for(var i=0;i<n;++i){var a=parseInt(e.substr(2*i,2),16);if(K(a))return i;t[r+i]=a}return i}function A(t,e,r,n){return G($(e,t.length-r),t,r,n)}function S(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return S(t,e,r,n)}function j(t,e,r,n){return G(z(e),t,r,n)}function x(t,e,r,n){return G(function(t,e){for(var r,n,o,s=[],i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,s.push(o),s.push(n);return s}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var s,i,a,u,c=t[o],f=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(s=t[o+1]))&&(u=(31&c)<<6|63&s)>127&&(f=u);break;case 3:s=t[o+1],i=t[o+2],128==(192&s)&&128==(192&i)&&(u=(15&c)<<12|(63&s)<<6|63&i)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:s=t[o+1],i=t[o+2],a=t[o+3],128==(192&s)&&128==(192&i)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&i)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=h}return function(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=N));return r}(n)}t.kMaxLength=c,l.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||void 0===i||"function"!=typeof i.error||i.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){return l.isBuffer(this)?this.buffer:e}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){return l.isBuffer(this)?this.byteOffset:e}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(t,e,r){return p(t,e,r)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,r,n){return function(t,r,n){return y(t),t<=0?h(t):r!==e?"string"==typeof n?h(t).fill(r,n):h(t).fill(r):h(t)}(t,r,n)},l.allocUnsafe=function(t){return d(t)},l.allocUnsafeSlow=function(t){return d(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(V(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),null==t||!0!==t._isBuffer||null==e||!0!==e._isBuffer)throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);o<s;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(r===e)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=l.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var i=t[n];if(V(i,Uint8Array)&&(i=l.from(i)),null==i||!0!==i._isBuffer)throw new TypeError('"list" argument must be an Array of Buffers');i.copy(o,s),s+=i.length}return o},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},l.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?R(this,0,t):function(t,r,n){var o=!1;if((r===e||r<0)&&(r=0),r>this.length)return"";if((n===e||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,r,n);case"utf8":case"utf-8":return R(this,r,n);case"ascii":return I(this,r,n);case"latin1":case"binary":return T(this,r,n);case"base64":return _(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,r,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(null==t||!0!==t._isBuffer)throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(t,r,n,o,s){if(V(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),null==t||!0!==t._isBuffer)throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===e&&(r=0),n===e&&(n=t?t.length:0),o===e&&(o=0),s===e&&(s=this.length),r<0||n>t.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&r>=n)return 0;if(o>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,s>>>=0,this===t)return 0;for(var i=s-o,a=n-r,u=Math.min(i,a),c=this.slice(o,s),f=t.slice(r,n),h=0;h<u;++h)if(c[h]!==f[h]){i=c[h],a=f[h];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},l.prototype.write=function(t,r,n,o){if(r===e)o="utf8",n=this.length,r=0;else if(n===e&&"string"==typeof r)o=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(n)?(n>>>=0,o===e&&(o="utf8")):(o=n,n=e)}var s=this.length-r;if((n===e||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return O(this,t,r,n);case"utf8":case"utf-8":return A(this,t,r,n);case"ascii":return S(this,t,r,n);case"latin1":case"binary":return k(this,t,r,n);case"base64":return j(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",s=e;s<r;++s)o+=D(t[s]);return o}function B(t,e,r){for(var n=t.slice(e,r),o="",s=0;s<n.length;s+=2)o+=String.fromCharCode(n[s]+256*n[s+1]);return o}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,o,s){if(null==t||!0!==t._isBuffer)throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function U(t,e,r,n,o,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function q(t,e,r,n,o){return e=+e,r>>>=0,o||U(t,0,r,4),u.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,o){return e=+e,r>>>=0,o||U(t,0,r,8),u.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===e?n:~~r,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),r<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t);var o=this.subarray(t,r);return o.__proto__=l.prototype,o},l.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],o=1,s=0;++s<e&&(o*=256);)n+=this[t+s]*o;return n},l.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},l.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],o=1,s=0;++s<e&&(o*=256);)n+=this[t+s]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=e,o=1,s=this[t+--n];n>0&&(o*=256);)s+=this[t+--n]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),u.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),u.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),u.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),u.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);L(this,t,e,r,o-1,-o)}var s=0,i=1,a=0;for(this[e]=255&t;++s<r&&(i*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/i>>0)-a&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);L(this,t,e,r,o-1,-o)}var s=r-1,i=1,a=0;for(this[e+s]=255&t;--s>=0&&(i*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/i>>0)-a&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeFloatLE=function(t,e,r){return q(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return q(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(null==t||!0!==t._isBuffer)throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var s=o-1;s>=0;--s)t[s+e]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return o},l.prototype.fill=function(t,r,n,o){if("string"==typeof t){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),o!==e&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!l.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===t.length){var s=t.charCodeAt(0);("utf8"===o&&s<128||"latin1"===o)&&(t=s)}}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var i;if(r>>>=0,n=n===e?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=r;i<n;++i)this[i]=t;else{var a=null!=t&&!0===t._isBuffer?t:l.from(t,o),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=a[i%u]}return this};var F=/[^+/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var r;e=e||1/0;for(var n=t.length,o=null,s=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function z(t){return a.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}}],["base64-js","/index.js",function(t,e,r,n,o){"use strict";t.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},t.toByteArray=function(t){for(var e,r=h(t),n=r[0],o=r[1],s=new a(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),u=0,c=o>0?n-4:n,f=0;f<c;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===o&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,s[u++]=255&e);1===o&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},t.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],i=0,a=r-n;i<a;i+=16383)o.push(l(t,i,i+16383>a?a:i+16383));1===n?(e=t[r-1],o.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return o.join("")};for(var s=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=u.length;c<f;++c)s[c]=u[c],i[u.charCodeAt(c)]=c;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var n,o,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(s[(o=n)>>18&63]+s[o>>12&63]+s[o>>6&63]+s[63&o]);return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}],["ieee754","/index.js",function(t,e,r,n,o){t.read=function(t,e,r,n,o){var s,i,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?o-1:0,l=r?-1:1,p=t[e+h];for(h+=l,s=p&(1<<-f)-1,p>>=-f,f+=a;f>0;s=256*s+t[e+h],h+=l,f-=8);for(i=s&(1<<-f)-1,s>>=-f,f+=n;f>0;i=256*i+t[e+h],h+=l,f-=8);if(0===s)s=1-c;else{if(s===u)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,n),s-=c}return(p?-1:1)*i*Math.pow(2,s-n)},t.write=function(t,e,r,n,o,s){var i,a,u,c=8*s-o-1,f=(1<<c)-1,h=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,y=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-i))<1&&(i--,u*=2),(e+=i+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(i++,u/=2),i+h>=f?(a=0,i=f):i+h>=1?(a=(e*u-1)*Math.pow(2,o),i+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),i=0));o>=8;t[r+p]=255&a,p+=y,a/=256,o-=8);for(i=i<<o|a,c+=o;c>0;t[r+p]=255&i,p+=y,i/=256,c-=8);t[r+p-y]|=128*d}}]],c=[];function f(e){if(e>>>0!==e||e>u.length)return function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}(e);for(;c.length<=e;)c.push(null);var r=c[e];if(r)return r.exports;var i=u[e],a=i[0],f=i[1],h=i[2],l=t,p=n;0!==e&&(p={id:"/"+a+f,exports:l={},parent:n.parent,filename:n.filename,loaded:!1,children:n.children,paths:n.paths}),c[e]=p;try{h.call(l,l,p,o,s,void 0)}catch(t){throw c[e]=null,t}return u[e]=null,0!==e&&(p.loaded=!0),p.exports}f(0)}]],u=[];function c(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}function f(t){c(t)}function h(t,e){if(t>>>0!==t||t>a.length)return c(t);if(null!=e&&!e.children)return c(t);for(;u.length<=t;)u.push(null);var r=u[t];if(r)return r.exports;var n=a[t],o=n[0],s=n[1],i=n[2],h=s,l=h.split("/").slice(0,-1).join("/")||"/",p=f,y={},d={id:"/"+o+s,exports:y,parent:e,filename:h,loaded:!1,children:[],paths:["/"],require:p};e&&e.children.push(d),0===t&&(p.main=d),u[t]=d;try{i.call(y,y,p,d,h,l,void 0)}catch(e){throw u[t]=null,e}return a[t]=null,d.loaded=!0,d.exports}f.cache={__proto__:null},f.extensions={__proto__:null},f.main=null,f.resolve=c,f.resolve.paths=c,n=h(19,null),n.setTimeout,n.clearTimeout,o=n.setInterval,s=n.clearInterval,n.setImmediate,n.clearImmediate,r=h(20,null).Buffer;var l=h(0,null);"function"==typeof define&&define.amd?define("ProxySocket",[],function(){return l}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=l:t.ProxySocket=l}("undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")());
